{"is_source_file": true, "format": "Python", "description": "This is a FastAPI-based backend API implementation for product management, including CRUD operations and inventory balance calculation, with database initialization and configuration handling.", "external_files": ["os", "typing", "fastapi", "pydantic", "sqlite3", "contextlib", "uvicorn"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Path", "fastapi.status", "fastapi.middleware.cors.CORSMiddleware", "pydantic.BaseModel", "pydantic.Field", "pydantic.validator", "sqlite3.connect", "contextlib.contextmanager", "uvicorn.run"], "published": ["app", "health_check", "list_products", "create_product", "get_product", "update_product", "delete_product", "get_products_balance"], "classes": [{"name": "ProductCreate", "description": "Input model for creating a product, with validation for name, price, and quantity."}, {"name": "ProductUpdate", "description": "Input model for updating a product, with optional fields and validation."}, {"name": "Product", "description": "Response model representing a product with id, name, price, and quantity."}], "methods": [{"name": "_sqlite_path_from_url", "description": "Converts a SQLite URL to a filesystem path."}, {"name": "get_db_cursor", "description": "Context manager for SQLite connection and cursor."}, {"name": "init_db", "description": "Initializes the database with the products table if it does not exist."}, {"name": "fetch_product_or_404", "description": "Fetches a product by ID or raises 404 if not found."}], "calls": ["os.getenv", "os.path.dirname", "os.path.exists", "os.makedirs", "sqlite3.connect", "conn.row_factory", "conn.cursor", "cur.execute", "cur.fetchone", "cur.fetchall", "uvicorn.run"], "search-terms": ["FastAPI product management", "SQLite database initialization", "Inventory total balance", "Product CRUD API", "Python API with fallback error handling"], "state": 2, "file_id": 2, "knowledge_revision": 24, "git_revision": "de36a4ab4b7d87ced2e11142e14f921cdad6f320", "revision_history": [{"9": "74da7c8b0005aacf27b604971f2cbcc1c01aac3e"}, {"10": "74da7c8b0005aacf27b604971f2cbcc1c01aac3e"}, {"14": "fe12cd4f7423af6233b0baa02c0da9f430abd3f5"}, {"15": "fe12cd4f7423af6233b0baa02c0da9f430abd3f5"}, {"16": "fe12cd4f7423af6233b0baa02c0da9f430abd3f5"}, {"24": "de36a4ab4b7d87ced2e11142e14f921cdad6f320"}], "ctags": [], "filename": "products_api_backend/src/api/main.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/product-management-api-34231-34258.git:kavia-main"}